{"version":3,"sources":["webpack:///./src/api/api_user.js","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?c2cc","webpack:///./src/views/login.vue"],"names":["api_user","params","login","data","_this","this","loading","account","username","pwd","rules","required","validator","value","callback","Error","validateCorrect","trigger","pwdFocus","allowLogin","checked","created","reg_user","JSON","parse","window","localStorage","getItem","methods","handleLogin","result","id","nickname","name","email","setItem","stringify_default","removeItem","$router","push","path","$message","error","trim","length","views_login","render","_vm","_h","$createElement","_c","_self","_m","_v","ref","staticClass","attrs","model","label-position","label-width","prop","type","auto-complete","placeholder","$$v","$set","expression","autofocus","href","title","to","staticStyle","width","disabled","nativeOn","click","$event","preventDefault","staticRenderFns","src","__webpack_require__","height","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/0.2ad99f2046bb1ee7b277.js","sourcesContent":["/**\n * Created by yqr on 2018/4/13.\n */\nimport * as API from './'\n\nexport default {\n  //登录\n  login: params => {\n\treturn \"success\";\n    //return API.POST('/api/users/login', params)\n  },\n  //登出\n  logout: params => {\n    return \"success\";\n    //return API.GET('/api/users/logout', params)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/api/api_user.js","<template>\n  <div>\n    <div class=\"header-content\">\n      <div class=\"logo-part\">\n        <img src=\"../assets/logo.png\" width=\"30\" height=\"30\">\n        <span>工业智能管理与审计APP</span>\n      </div>\n    </div>\n    <el-form ref=\"AccountForm\" :model=\"account\" :rules=\"rules\" label-position=\"left\" label-width=\"0px\"\n             class=\"demo-ruleForm login-container\">\n      <h3 class=\"title\">欢迎登录</h3>\n      <el-form-item prop=\"username\">\n        <el-input type=\"text\" v-model=\"account.username\" auto-complete=\"off\" placeholder=\"手机号或公司企业码\"></el-input>\n      </el-form-item>\n      <el-form-item prop=\"pwd\">\n        <el-input type=\"password\" v-model=\"account.pwd\" :autofocus=\"pwdFocus\" auto-complete=\"off\" placeholder=\"请输入登录密码\"></el-input>\n      </el-form-item>\n      <!--<el-checkbox v-model=\"checked\" checked class=\"remember\">记住密码</el-checkbox>-->\n      <el-form-item class=\"extra-text\">\n        <a href=\"javascript:;\" class=\"forget-pwd\" title=\"找回密码\">忘记密码?</a>\n        <router-link :to=\"{path: '/register'}\" class=\"reg-text\" title=\"立即注册\">立即注册</router-link>\n      </el-form-item>\n      <el-form-item style=\"width:100%;\">\n        <el-button type=\"primary\" style=\"width:100%;\" @click.native.prevent=\"handleLogin\" :disabled=\"allowLogin\" :loading=\"loading\">登录</el-button>\n      </el-form-item>\n    </el-form>\n\t<div class=\"footer\">\n      <footer-copyright></footer-copyright>\n    </div>\n  </div>\n</template>\n<script>\n  import API from '../api/api_user'\n  export default {\n    data() {\n      var validateAccount = (rules, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入账号'));\n        } else {\n          if (this.account.username !== '') {\n            this.account.username = value;\n\t\t\tthis.validateCorrect();\n          }\n          callback();\n        }\n      };\n\t  var validatePwd = (rules, value, callback) => {\n        if (value === '') {\n          callback(new Error('请输入密码'));\n        } else {\n          if (this.account.pwd !== '') {\n            this.account.pwd = value;\n            this.validateCorrect();\n          }\n          callback();\n        }\n      };\n      return {\n        loading: false,\n        account: {\n          username: '',\n          pwd: ''\n        },\n        rules: {\n          username: [\n            { required: true, validator: validateAccount, trigger: 'change' }\n\n          ],\n          pwd: [\n            {required: true, validator: validatePwd, trigger: 'change'}\n          ]\n        },\n        pwdFocus: false,\n\t\tallowLogin: true,\n        checked: true\n      };\n    },\n    created() {\n      let reg_user = JSON.parse(window.localStorage.getItem('register-user'));\n      if (reg_user) {\n        this.account.username = reg_user.username;\n        this.account.pwd = '';\n        this.pwdFocus = true;\n      }\n    },\n    methods: {\n      handleLogin(){\n        let that = this;\n        let result = {\n          id: '1',\n          username: 'admin',\n          nickname: this.account.username,\n          name: 'administrator',\n          email: '888888@163.com'\n        };\n        this.loading = true;\n        let status = API.login(result);\n        if(status == 'success'){\n          localStorage.setItem('access-user', JSON.stringify(result));\n          window.localStorage.removeItem('register-user');\n          that.$router.push({path: '/'});\n        } else {\n\t\t  this.loading = false;\n          this.$message.error(\"登录失败，账号或密码错误\");\n        }\n      },\n\t  validateCorrect(){\n        if(this.account.pwd.trim().length > 0 && this.account.username.trim().length > 0){\n          this.allowLogin = false;\n        } else {\n          this.allowLogin = true;\n        }\n      }\n    }\n  }\n</script>\n<style scoped>\n  body {\n    background: #DFE9FB;\n  }\n  .header-content {\n    position: fixed;\n    top: 0;\n    width: 100%;\n    height: 30px;\n    padding: 6px 0;\n    border-bottom: 1px solid #ddd;\n    box-shadow: 0 0 2px #ddd;\n  }\n  .header-content .logo-part {\n    margin-left: 10px;\n    font-size: 18px;\n    color: #999;\n  }\n  .header-content .logo-part img {\n    vertical-align: middle;\n  }\n  .login-container {\n    /*box-shadow: 0 0px 8px 0 rgba(0, 0, 0, 0.06), 0 1px 0px 0 rgba(0, 0, 0, 0.02);*/\n    -webkit-border-radius: 5px;\n    border-radius: 5px;\n    -moz-border-radius: 5px;\n    background-clip: padding-box;\n    margin: 160px auto;\n    width: 350px;\n    padding: 35px 35px 15px 35px;\n    background: #fff;\n    border: 1px solid #eaeaea;\n    box-shadow: 0 0 25px #cac6c6;\n\n    background: -ms-linear-gradient(top, #ace, #00C1DE); /* IE 10 */\n    background: -moz-linear-gradient(top, #ace, #00C1DE); /*火狐*/\n    background: -webkit-gradient(linear, 0% 0%, 0% 100%, from(#ace), to(#00C1DE)); /*谷歌*/\n    background: -webkit-linear-gradient(top, #ace, #00C1DE); /*Safari5.1 Chrome 10+*/\n    background: -o-linear-gradient(top,#ace, #00C1DE); /*Opera 11.10+*/\n\n  }\n  .login-container .title {\n    margin: 0px auto 40px auto;\n    text-align: center;\n    color: #505458;\n  }\n  .login-container .remember {\n    margin: 0px 0px 35px 0px;\n  }\n  .extra-text {\n    position: relative;\n    margin-bottom: 0;\n    padding-left: 2px;\n  }\n  .extra-text a {\n    font-size: 12px;\n    color: #aaa;\n  }\n  .extra-text a:hover {\n    color: #29e;\n  }\n  .extra-text .reg-text {\n    position: absolute;\n    top: 4px;\n    right: 2px;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('el-form',{ref:\"AccountForm\",staticClass:\"demo-ruleForm login-container\",attrs:{\"model\":_vm.account,\"rules\":_vm.rules,\"label-position\":\"left\",\"label-width\":\"0px\"}},[_c('h3',{staticClass:\"title\"},[_vm._v(\"欢迎登录\")]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\",\"placeholder\":\"手机号或公司企业码\"},model:{value:(_vm.account.username),callback:function ($$v) {_vm.$set(_vm.account, \"username\", $$v)},expression:\"account.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"pwd\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"autofocus\":_vm.pwdFocus,\"auto-complete\":\"off\",\"placeholder\":\"请输入登录密码\"},model:{value:(_vm.account.pwd),callback:function ($$v) {_vm.$set(_vm.account, \"pwd\", $$v)},expression:\"account.pwd\"}})],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"extra-text\"},[_c('a',{staticClass:\"forget-pwd\",attrs:{\"href\":\"javascript:;\",\"title\":\"找回密码\"}},[_vm._v(\"忘记密码?\")]),_vm._v(\" \"),_c('router-link',{staticClass:\"reg-text\",attrs:{\"to\":{path: '/register'},\"title\":\"立即注册\"}},[_vm._v(\"立即注册\")])],1),_vm._v(\" \"),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\",\"disabled\":_vm.allowLogin,\"loading\":_vm.loading},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.handleLogin($event)}}},[_vm._v(\"登录\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[_c('footer-copyright')],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header-content\"},[_c('div',{staticClass:\"logo-part\"},[_c('img',{attrs:{\"src\":require(\"../assets/logo.png\"),\"width\":\"30\",\"height\":\"30\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"工业智能管理与审计APP\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-93ec2b9e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-93ec2b9e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-93ec2b9e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-93ec2b9e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}